---
b·ªë c·ª•c: b√†i
title: Ghi m·ªôt tr√≤ ch∆°i b·∫£o m·∫≠t th√¥ng tin ngo·∫°i tuy·∫øn
c√°c th·∫ª: [CTF, th√¢m nh·∫≠p, b·∫£o m·∫≠t th√¥ng tin]
---

T√¥i v·∫´n c·∫£m th·∫•y r·∫±ng vi·ªác th√¢m nh·∫≠p v√†o th·ª±c t·∫ø r·∫•t th√∫ v·ªã ... <! - more ->

# Nguy√™n nh√¢n
Trong nh·ªØng nƒÉm g·∫ßn ƒë√¢y, t√¥i ƒë√£ tr·∫£i qua [CTF tr·ª±c tuy·∫øn] (/ 2019/12/16 / ctf.html) v√† [tr·ªü th√†nh ng∆∞·ªùi t·ªï ch·ª©c CTF] (/ 2020/11/24 / createctf.html), nh∆∞ng v√¨ nhi·ªÅu l√Ω do kh√°c nhau, t√¥i ch∆∞a tham gia cu·ªôc thi offline an to√†n th√¥ng tin ki·ªÉu n√†y. G·∫ßn ƒë√¢y, m·ªôt tr∆∞·ªùng h·ªçc ·ªü T·ª© Xuy√™n ƒë√£ t·ªï ch·ª©c m·ªôt cu·ªôc thi ngo·∫°i tuy·∫øn v·ªÅ b·∫£o m·∫≠t th√¥ng tin, v√† tr∆∞·ªùng ch√∫ng t√¥i ƒë√£ y√™u c·∫ßu t√¥i v√† c√°c b·∫°n c√πng l·ªõp tham gia.
Trong nh√≥m c·ªßa ch√∫ng t√¥i, ngo·∫°i tr·ª´ t√¥i, nh·ªØng ng∆∞·ªùi kh√°c ƒë·ªÅu chuy√™n nghi·ªáp v·ªÅ b·∫£o m·∫≠t th√¥ng tin. T√¥i n√™n l√†m g√¨ v·ªõi t∆∞ c√°ch l√† m·ªôt ng∆∞·ªùi k·ªπ thu·∫≠t m·∫°ngüòÇ? Nh∆∞ng d√π sao ƒëi n·ªØa, t√¥i ƒë√£ [t√¨m th·∫•y l·ªó h·ªïng] (/ 2021/05/15 / l·ªó h·ªïng.html), [c√¥ng c·ª• trang web t·ª± t·∫°o] (/ 2019/07/01 / mabbs.html) v√† t√¥i c≈©ng ƒëang trong qu√° tr√¨nh n√†y b·∫£o tr√¨ trang web [ph·∫£i C√≥ hi·ªÉu bi·∫øt nh·∫•t ƒë·ªãnh v·ªÅ t·∫•n c√¥ng v√† ph√≤ng th·ªß m·∫°ng] (/ 2019/02/17 / break.html), c·ªông v·ªõi kinh nghi·ªám tr√™n, √≠t nh·∫•t t√¥i v·∫´n c√≥ th·ªÉ so s√°nh v·ªõi c√°c chuy√™n gia an to√†n th√¥ng tin v·ªÅ m·∫∑t ki·∫øn ‚Äã‚Äãth·ª©c.

# Kinh nghi·ªám v√† qu√° tr√¨nh
Cu·ªôc thi n√†y c√≥ hai ph·∫ßn, ph·∫ßn th·ª© nh·∫•t l√† CTF v√† ph·∫ßn th·ª© hai l√† th√¢m nh·∫≠p m·∫°ng n·ªôi b·ªô. Ngo√†i ra, s·ª± kh√°c bi·ªát gi·ªØa ngo·∫°i tuy·∫øn v√† tr·ª±c tuy·∫øn l√† m·ªói ƒë·ªôi s·∫Ω cung c·∫•p m√°y bay kh√¥ng ng∆∞·ªùi l√°i ri√™ng bi·ªát. T√¥i nghe n√≥i r·∫±ng Flag c√≥ v·∫ª nh∆∞ c√≥ m·ªôt s·ªë c√¢u h·ªèi ƒë·ªôc ƒë√°o. M·ªôt ƒëi·ªÉm kh√°c bi·ªát l·ªõn n·ªØa l√† c√°c m√°y t√≠nh ngo·∫°i tuy·∫øn kh√¥ng ƒë∆∞·ª£c ph√©p k·∫øt n·ªëi Internet v√† t√≠n hi·ªáu ƒëi·ªán tho·∫°i di ƒë·ªông c≈©ng b·ªã ch·∫∑n. Tuy nhi√™n, ng∆∞·ªùi ta n√≥i r·∫±ng ch·ªâ c√°c t√≠n hi·ªáu d∆∞·ªõi 4G v√† t√≠n hi·ªáu WiFi 2.4G v√† t√≠n hi·ªáu Bluetooth d∆∞·ªùng nh∆∞ b·ªã che ch·∫Øn. M·∫°ng di ƒë·ªông 5G v√† WiFi 5G kh√¥ng b·ªã ·∫£nh h∆∞·ªüng. Ngo√†i ra, c√≥ th·ªÉ cung c·∫•p m·ªôt m√°y t√≠nh c√≥ k·∫øt n·ªëi Internet ƒë·ªÉ ki·ªÉm tra d·ªØ li·ªáu trong th·ªùi gian gi·ªõi h·∫°n . V√¨ v·∫≠y, t√¥i ch·ªâ kh√¥ng th·ªÉ hi·ªÉu ho·∫°t ƒë·ªông n√†y. Ngo√†i ra, t√¥i ƒë√£ b√≠ m·∫≠t ƒë·∫∑t m·∫≠t kh·∫©u c·ªßa m·∫°ng trong khu√¥n vi√™n tr∆∞·ªùng c·ªßa h·ªç th√¥ng qua c√°c nh√¢n vi√™n x√£ h·ªôi, v√¨ v·∫≠y t√¥i th·ª±c s·ª± c√≥ th·ªÉ k·∫øt n·ªëi Internet b√¨nh th∆∞·ªùng.
## Ph·∫ßn CTF
M·∫∑c d√π t√¥i ƒë√£ ch∆°i CTF nh∆∞ng th·ª±c s·ª± th√¨ t√¥i v·∫´n ch∆∞a bi·∫øt g√¨ v·ªÅ CTF, t√¥i kh√¥ng hi·ªÉu v·ªÅ ph·∫ßn Crypto v√† c≈©ng kh√¥ng bi·∫øt s·ª≠ d·ª•ng c√¥ng c·ª• g√¨. Misc ch·ªâ ti·∫øc l√† t√¥i c√≥ th·ªÉ l√†m ƒë∆∞·ª£c v√† c√°c c√¥ng c·ª• l√† kh√¥ng ƒë·ªß. C√¢u h·ªèi tr√™n web kh√¥ng sao, √≠t nh·∫•t l√† m·ªôt ch√∫t nh∆∞ng t√¥i v·∫´n ch∆∞a bi·∫øt SQL injection. Nh·ªØng g√¨ Pwn kh√°c s·∫Ω s·ª≠ d·ª•ng Reverse v√† nh·ªØng c√¢u h·ªèi kh√°c v·ªÅ c∆° b·∫£n kh√¥ng c√≥ c∆° h·ªôi v·ªõi ch√∫ng t√¥i, d√π sao th√¨ nh·ªØng ng∆∞·ªùi trong nh√≥m c·ªßa ch√∫ng t√¥i s·∫Ω kh√¥ng bi·∫øt, v√† c≈©ng kh√¥ng c√≥ c√¥ng c·ª•.
Tr√™n th·ª±c t·∫ø, th√†nh th·∫≠t m√† n√≥i, t√¥i ch∆∞a th·∫•y CTF n√†o ƒë∆∞·ª£c s·ª≠ d·ª•ng trong ƒë·ªùi th·ª±c cho ƒë·∫øn b√¢y gi·ªù. Reverse v√† Web c√≥ th·ªÉ h·ªØu √≠ch. Ai ƒë√≥ c√≥ th·ªÉ s·ª≠ d·ª•ng m√£ h√≥a AES b√¨nh th∆∞·ªùng nh∆∞ Crypto ƒë·ªÉ b·∫ª kh√≥a n√≥ m√† kh√¥ng b·∫°o l·ª±c kh√¥ng? V√† th·ª≠ nghi·ªám Misc l√† g√¨? V·∫•n ƒë·ªÅ ph·ª©c t·∫°p? Thu·∫≠t to√°n m√£ h√≥a ban ƒë·∫ßu c·ªßa t√¥i c√≥ l·ªó h·ªïng. Ai ƒë√≥ c√≥ th·ªÉ gi·∫£i quy·∫øt n√≥ kh√¥ng?
T√≥m l·∫°i, CTF kh√¥ng th·ª±c s·ª± c√≥ nhi·ªÅu √Ω nghƒ©a, nh∆∞ng n·∫øu b·∫°n n√≥i v·∫≠y, h√£y ƒë·ªÉ t√¥i chia s·∫ª m·ªôt s·ªë c√¢u h·ªèi th√∫ v·ªã m√† t√¥i c√≥ th·ªÉ ƒë∆∞a ra.
M·ªôt trong nh·ªØng c√¢u h·ªèi th√∫ v·ªã nh·∫•t trong c√¢u h·ªèi web n√†y l√† MD5 b·∫±ng ch√≠nh n√≥. Tuy nhi√™n, c√≥ v·∫ª nh∆∞ c√¥ng ngh·ªá c·ªßa con ng∆∞·ªùi v·∫´n ch∆∞a t√¨m ra ƒë∆∞·ª£c gi√° tr·ªã nh∆∞ v·∫≠y. C√≥ th·ªÉ m√£ l√† nh∆∞ th·∫ø n√†y:
```php
<?php
include 'flag.php';
highlight_file("index.php");
if(isset($_GET["a"])){
  $a = $_GET["a"];
  if($a == md5($a)){
    echo $flag;
  }
}
```
```python
from hashlib import md5
for i in range(1,999999999):
    a = md5(("0e"+str(i)).encode()).hexdigest()
    if a[0:2] == "0e":
        try:
            int(a[2:])
            print(i)
        except:
            aaa = 0
```
V√¨ th·ªùi gian eo h·∫πp n√™n t√¥i ch·ªâ vi·∫øt t√πy ti·ªán th√¥i, d√π sao c≈©ng c√≥ t√°c d·ª•ng. Cu·ªëi c√πng, gi√° tr·ªã ƒë·∫ßu ti√™n ƒë∆∞·ª£c t√≠nh l√† "0e215962017", v√† sau ƒë√≥ l√† ·ªïn, v√¨ md5 c·ªßa n√≥ l√† "0e291242476940776845150308577824", t∆∞∆°ng ƒë∆∞∆°ng v·ªõi "0 = 0" ƒë·ªëi v·ªõi PHP. Baidu r√°c r∆∞·ªüi th·ª±c s·ª± ch·ªâ c√≥ th·ªÉ t√¨m th·∫•y m·ªôt l∆∞·ª£ng nh·ªè k·∫øt qu·∫£ tr·ª´ khi b·∫°n tr·ª±c ti·∫øp t√¨m ki·∫øm gi√° tr·ªã n√†y. Nh·ªØng ng∆∞·ªùi kh√°c th·ª±c s·ª± kh√¥ng th·ªÉ t√¨m ki·∫øm ƒë∆∞·ª£c ...
T√¥i kh√¥ng bi·∫øt l√†m th·∫ø n√†o ƒë·ªÉ l√†m b·∫•t k·ª≥ c√¢u h·ªèi n√†o kh√°c, v√¨ v·∫≠y ch√∫ng ta h√£y d·ª´ng l·∫°i ·ªü ƒë√¢y cho CTF.
## Ph·∫ßn th√¢m nh·∫≠p m·∫°ng n·ªôi b·ªô
Vi·ªác th√¢m nh·∫≠p Intranet v·∫´n c√≥ m·ªôt ch√∫t th√∫ v·ªã so v·ªõi CTF, ƒë·∫∑c bi·ªát l√† ƒë·ªëi v·ªõi nh·ªØng ng∆∞·ªùi l√†m k·ªπ thu·∫≠t m·∫°ng nh∆∞ t√¥i, √≠t nh·∫•t t·∫•t c·∫£ c√°c lo·∫°i k·∫øt n·ªëi ƒë·ªÅu t∆∞∆°ng ƒë·ªëi d·ªÖ d√†ng. V√† tr√™n th·ª±c t·∫ø, t√¥i c≈©ng ƒë√£ ch∆°i th√¢m nh·∫≠p trong th·ª±c t·∫ø, v√≠ d·ª• nh∆∞ m·∫°ng tr∆∞·ªùng h·ªçc d·ªÖ th√¢m nh·∫≠p h∆°n m·∫°ng trong c√°c cu·ªôc thi. Ngo√†i ra, t√¥i c≈©ng ƒë√£ vi·∫øt m·ªôt b√†i v·ªÅ [K·∫øt n·ªëi hai m·∫°ng b·∫•t k·ª≥] (/ 2021/05/07 / ssh.html), v√¨ v·∫≠y ph·∫ßn n√†y s·∫Ω thu·∫≠n ti·ªán h∆°n cho t√¥i.
Tuy nhi√™n, qua cu·ªôc thi n√†y, t√¥i v·∫´n th·∫•y r·∫±ng b·∫£n th√¢n cu·ªôc thi kh√¥ng c√≥ nhi·ªÅu √Ω nghƒ©a, v√≠ d·ª• nh∆∞ c·ªïng v√†o m√† ch√∫ng t√¥i v√†o trong cu·ªôc thi l√† m·ªôt CMS c√≥ t√™n l√† beecms, tuy nhi√™n, ban t·ªï ch·ª©c cu·ªôc thi l·∫°i kh√¥ng ƒë∆∞a ra m√£ s·ªë cho ch√∫ng t√¥i. ƒëo√°n m·ªôt c√°ch m√π qu√°ng. ƒêi·ªÅu n√†y kh√¥ng ƒë√∫ng. Kh√¥ng, ·ªü nhi·ªÅu n∆°i trong CMS n√†y, ch√∫ng t√¥i c√≥ th·ªÉ th·∫•y nh·ªØng ƒëi·ªÉm c√≥ th·ªÉ b·ªã SQL ch√®n v√†o, nh∆∞ng nh√≥m c·ªßa ch√∫ng t√¥i ƒë√£ th·ª≠ nhi·ªÅu c√°ch v√† kh√¥ng th√†nh c√¥ng. Cu·ªëi c√πng, t√¥i ƒë√£ t√¨m th·∫•y [m·ªôt b√†i b√°o] (https://www.anquanke.com/post/id/98574) tr√™n Baidu v√† n√≥i r·∫±ng b·∫°n c√≥ th·ªÉ tr·ª±c ti·∫øp ƒëƒÉng m·ªôt chu·ªói tr√™n trang ch·ªß:
``
_SESSION [login_in] = 1 & _SESSION [admin] = 1 & _SESSION [login_time] = 99999999999
``
M·ªôt th·ª© nh∆∞ v·∫≠y c√≥ th·ªÉ tr·ª±c ti·∫øp s·ª≠a ƒë·ªïi Phi√™n ƒë·ªÉ b·ªè qua ƒëƒÉng nh·∫≠p üòì ...... T√¥i c√≥ th·ªÉ t√¨m th·∫•y lo·∫°i l·ªó h·ªïng n√†y m√† kh√¥ng c·∫ßn ki·ªÉm tra th·ª© n√†y kh√¥ng? Cu·ªëi c√πng, t√¥i ƒë√£ t√¨m th√†nh c√¥ng 4 c·ªù tr√™n ƒë√≥ v√† v√†o m·∫°ng n·ªôi b·ªô ti·∫øp theo.
Trong m·∫°ng n·ªôi b·ªô ti·∫øp theo, c√≥ hai c∆° s·ªü d·ªØ li·ªáu MySQL v√† m·ªôt trang web Tomcat, c≈©ng c√≥ m·ªôt trang web v·ªõi ph·∫ßn qu·∫£n l√Ω n·ªÅn ƒë∆∞·ª£c vi·∫øt tr√™n ƒë√≥, nh∆∞ng kh√¥ng th·ªÉ nh√¨n th·∫•y khu√¥n kh·ªï n√†o. Theo l·ªùi nh·∫Øc, Tomcat v√† c∆° s·ªü d·ªØ li·ªáu l√† m·∫≠t kh·∫©u y·∫øu, v√† cu·ªëi c√πng ƒëo√°n r·∫±ng t√™n ng∆∞·ªùi d√πng Tomcat l√† "tomcat" v√† m·∫≠t kh·∫©u l√† "tomcat123". V·∫•n ƒë·ªÅ v·ªõi c∆° s·ªü d·ªØ li·ªáu l√† ch√∫ng t√¥i c√≥ th·ªÉ ƒëƒÉng nh·∫≠p th√†nh c√¥ng, nh∆∞ng c√°c c√¥ng c·ª• li√™n quan kh√¥ng th·ªÉ k·∫øt n·ªëi v·ªõi proxy ... T√¥i kh√¥ng c√≥ b·∫•t k·ª≥ c√¥ng c·ª• n√†o v√¨ t√¥i kh√¥ng b·∫£o m·∫≠t th√¥ng tin. Proxy to√†n c·∫ßu v·ªõi c√°c c√¥ng c·ª• b·ªã h·ªèng, T√¥i kh√¥ng bi·∫øt t·∫°i sao N√≥ kh√¥ng th·ªÉ k·∫øt n·ªëi ... v√¨ v·∫≠y kh√¥ng c√≥ c√°ch n√†o ... Ngo√†i ra, th·ª±c s·ª± r·∫•t keo ki·ªát khi kh√¥ng ƒë∆∞a ra c·ªù sau khi c∆° s·ªü d·ªØ li·ªáu v√†o. Ng∆∞·ªùi ta ∆∞·ªõc t√≠nh r·∫±ng c·ªù n·∫±m ‚Äã‚Äãtrong h·ªá th·ªëng t·ªáp T√¥i nghe n√≥i r·∫±ng UDF c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ n√¢ng cao quy·ªÅn. Tomcat l√† b√†n ƒë·∫°p ƒë·ªÉ v√†o l·ªõp th·ª© 2. Sau khi thi·∫øt l·∫≠p hai l·ªõp t√°c nh√¢n tr√™n ƒë√≥, t√¥i c√≥ th·ªÉ v√†o m·∫°ng ƒë√≥. Trong m·∫°ng ƒë√≥, c√≥ m·ªôt h·ªá th·ªëng PHPOA, m·ªôt trang Weblogic v√† m·ªôt h·ªá th·ªëng ph·∫£i l√† Windows7. ~~ C√≥ v·∫ª nh∆∞ ch·ªâ c√≥ c·ªïng SMB ƒë∆∞·ª£c m·ªü, v√† c√≥ v·∫ª nh∆∞ n√≥ n√™n ƒë∆∞·ª£c ch∆°i v·ªõi Eternal Blue ... ~~ (T√¥i nghe √¥ng l·ªõn n√≥i r·∫±ng c√≥ v·∫ª nh∆∞ ƒëang s·ª≠ d·ª•ng IPC $?) Nh∆∞ng c·ª• th·ªÉ l√† v√¨ c√¥ng c·ª• c·ªßa ƒë·ªìng ƒë·ªôi kh√¥ng th·ªÉ k·∫øt n·ªëi ... kh√¥ng c√≥ c√°ch n√†o.
Kh√¥ng c√≥ nhi·ªÅu th√¥ng tin v·ªÅ PHPOA, nh∆∞ng t√¥i v·∫´n t√¨m th·∫•y [th√¥ng tin li√™n quan] (https://blog.csdn.net/weixin_39788986/article/details/110226286) th√¥ng qua Baidu, n√≥i r·∫±ng c√≥ m·ªôt ƒë∆∞·ªùng d·∫´n trong `/ ntko / upLoadOfficeFile .php` L·ªó h·ªïng do upload file t√πy ti·ªán khi·∫øn t√¥i t√™ c·∫£ ng∆∞·ªùi, n·∫øu c√°i n√†y kh√¥ng cho code hay m·∫°ng th√¨ t√¥i c√≥ th·ªÉ d·ª±a v√†o ti√™n tri ƒë·ªÉ bi·∫øt ƒë∆∞·ª£c l·ªó h·ªïng n√†y kh√¥ng?
M·∫∑c d√π t√¥i ƒë√£ t√¨m th·∫•y m·ªôt h∆∞·ªõng d·∫´n tr√™n trang web Weblogic, t√¥i ƒë√£ n√≥i r·∫±ng t√¥i c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë·ªãa ch·ªâ `/ console / css /% 252e% 252e% 252fconsole.portal` ƒë·ªÉ b·ªè qua ƒëƒÉng nh·∫≠p tr·ª±c ti·∫øp, nh∆∞ng t√¥i ch∆∞a s·ª≠ d·ª•ng n·ªÅn t·∫£ng ƒë√≥ nhi·ªÅu. T√¥i kh√¥ng bi·∫øt c√°ch tri·ªÉn khai hay c√°ch thay ƒë·ªïi m·∫≠t kh·∫©u. M·∫≠t kh·∫©u n√™n cu·ªëi c√πng kh√¥ng th√†nh c√¥ng ...
Cu·ªëi c√πng k·∫øt qu·∫£ c≈©ng kh√¥ng t·ªìi, m√¨nh l√†m ƒë∆∞·ª£c 6 c√¢u, cho h∆°n 1k ƒëi·ªÉm, c√≤n c√≥ m√°u th·ª© nh·∫•t v√† m√°u th·ª© hai.

# T·ªïng h·ª£p
K·∫øt th√∫c tr√≤ ch∆°i, k·∫øt qu·∫£ kh√¥ng t·ªìi, ƒë·ªôi ch√∫ng t√¥i ƒë√£ xu·∫•t s·∫Øc gi√†nh gi·∫£i ba. Nh∆∞ng sau cu·ªôc thi n√†y, m√¨nh th·∫•y vi·ªác thi l·∫•y ch·ª©ng ch·ªâ trong th·ª±c t·∫ø s·∫Ω h·ªØu √≠ch h∆°n CTF, vi·ªác th√¢m nh·∫≠p v√†o m√¥i tr∆∞·ªùng th·ª±c t·∫ø th√∫ v·ªã h∆°n r·∫•t nhi·ªÅu so v·ªõi cu·ªôc thi, v√¨ v·∫≠y n·∫øu b·∫°n th·ª±c s·ª± mu·ªën ch∆°i th√¨ c·ª© ch∆°i trong th·ª±c t·∫ø. T·∫•t nhi√™n, t√¥i nghƒ© c∆° h·ªôi n√†y c≈©ng th√∫ v·ªã, ·ªü m·ªôt m·ª©c ƒë·ªô n√†o ƒë√≥, n√≥ c√≥ th·ªÉ mang l·∫°i cho t√¥i m·ªôt ch√∫t th√∫ v·ªã th√¥ng qua ph∆∞∆°ng ph√°p ƒê√°nh C·ªù, ƒë√¢y c≈©ng l√† m·ªôt tr·∫£i nghi·ªám kh√° hay.
