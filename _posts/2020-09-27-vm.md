---
bố cục: bài
title: Hồ sơ học tập về ảo hóa
các thẻ: [ảo hóa, ghi lại]
---

Máy ảo ... cảm thấy hơi triết lý. <! - more ->

Lịch sử học tập được ảo hóa của # Mayx
## Lịch sử sử dụng máy ảo trên PC
Khi còn trẻ, tôi chơi với máy ảo, lúc đó Windows 10 chưa ra mắt và tôi đang sử dụng Windows XP, lúc đó phần mềm máy ảo tôi sử dụng là VMWare Workstation. Cảm giác về VMWare ngày xưa cũng không khác mấy so với hiện tại, mười năm trôi qua cũng không có nhiều chức năng được bổ sung, nếu phải nói chức năng nào đã được cập nhật thì có lẽ với bản cập nhật máy vật lý hiện tại. , một số chẳng hạn như UEFI đã được thêm vào. Chức năng của nó.
Sau đó, tôi sử dụng Windows10, lúc đó tôi là một trong những người đầu tiên sử dụng Windows10, phiên bản chính thức vẫn chưa ra mắt, tôi đã sử dụng phiên bản xem trước kỹ thuật, nhưng cho đến khi phiên bản chính thức ra mắt, tôi vẫn sử dụng VMWare. như một máy ảo. Sau đó, tôi tìm thấy Hyper-V khi đang loanh quanh trong hệ thống, đây là một máy ảo cấp thấp và nhẹ hơn VMWare, có thể mở trực tiếp trên Windows 10 mà không cần tải các chương trình khác, rất tiện lợi.
Kể từ khi tôi biết về Hyper-V, tôi không sử dụng VMWare nữa. Ngoài hai lý do khiến tôi không thể cùng tồn tại, Hyper-V cho cảm giác ổn định hơn, nhanh hơn và tích hợp tốt hơn với Windows. Nhưng có một nhược điểm là không có cách gắn USB vào, rất rắc rối ...
Trước đây mình hay gặp sự cố khi sử dụng VMWare, có lúc hệ thống trong máy ảo bị kẹt nhưng bấm vào shutdown thì dùng client tắt thì VMWare lại bị kẹt. Tại thời điểm này, ngay cả khi quá trình `vmware-vmx.exe` được sử dụng để lấy tài nguyên máy tính bị chấm dứt, nó sẽ vô dụng, ngay cả khi nó đã đăng xuất, nó chỉ có thể bị tắt. Sau khi khởi động lại, thường sẽ xảy ra sự cố không thể mở được do khóa. Rất rắc rối. Nhưng từ khi dùng Hyper-V thì mình chưa gặp phải trường hợp này nữa, có lẽ là do Hyper-V có khả năng quản lý và kiểm soát tài nguyên tốt hơn, về cơ bản sẽ không có tình huống máy ảo giết máy vật lý.
Nói về điều này, nó làm tôi nhớ đến ESXi mà tôi đã cài đặt gần đây. Vì máy tính chính của tôi sử dụng Hyper-V nên ESXi rác không có trình điều khiển cạc mạng Hyper-V. Sau đó, tôi vẫn không thể cài đặt nó, và sau đó tôi có thể Tôi không thể làm gì cả. Tôi chỉ có thể sử dụng máy tính cũ của mình để cài đặt. Sau khi cài đặt, một điều rất kỳ diệu đã xảy ra, đó là tạo một máy ảo với ESXi và sau đó khởi động lại máy vật lý trực tiếp sau khi tắt nguồn. Đây là một chút không phù hợp, máy ảo Cho dù nó có thể ảnh hưởng đến máy vật lý như thế nào thì nó cũng không đủ tiêu chuẩn.
Nhìn chung, có thể thấy phần mềm ảo hóa PC về cơ bản dựa vào lệnh ảo hóa có sẵn của CPU để chạy nên hiệu quả rất cao.
## Lịch sử sử dụng máy ảo của điện thoại di động
Tôi cũng đã cài đặt nhiều loại máy ảo trên điện thoại di động của mình. Hiệu suất của chiếc điện thoại di động đầu tiên tôi sử dụng rất kém và nó có vẻ là CPU Tsinghua Unisplendour. Tôi đã sử dụng chiếc điện thoại rác đó làm máy chủ vào thời điểm đó. Mặc dù tôi cũng biết các máy ảo khác nhưng tôi không thể mang theo điện thoại đó. Tôi nhớ rằng máy đầu tiên tôi sử dụng là DOSBox Turbo và tôi đã cài đặt hệ thống Windows 3.2 trên đó. Nhưng phần mềm này không thể mở các hệ thống khác ngoại trừ máy ảo này, và về cơ bản là không có cách ly, nó có thể truy cập trực tiếp vào các tập tin trong điện thoại, điều này không tốt chút nào.
Sau này mình dùng điện thoại tốt hơn một chút, lúc đó mình mới biết đến Bochs nhưng hệ thống chưa được mình cài đặt, file cấu hình của phần mềm quá phức tạp với mình lúc đó mình không hiểu được. là một hình ảnh phản chiếu trên thanh bài để sử dụng trực tiếp.
Sau khi biết đến Bochs, tôi biết đến Limbo, đây là một máy ảo dựa trên qemu, sử dụng đơn giản hơn Bochs rất nhiều, có thể sử dụng trực tiếp mà không cần ghi file cấu hình. Vì vậy, miễn là thứ này không được sử dụng, nó cần một số hướng dẫn đặc biệt, tôi đã thử cài đặt WindowsXP và MenuetOS, KolibriOS, TempleOS, v.v. về cơ bản có thể chạy bình thường.
Sau đó mình cũng thử dùng phần mềm khác như VMOS, có vẻ là máy ảo dựa trên qemu nhưng là tập lệnh ARM, cài hệ điều hành Android, rất tiện khi chạy một số phần mềm có thể có vấn đề trong nhiều trường hợp.
Ngoài ra còn có ExaGear, được tạo ra dựa trên Wine, nó chỉ có thể chạy các chương trình Windows ở một mức độ nhất định, và vì nó cũng là một tập hợp lệnh chéo nên nó thực sự không hiệu quả lắm.
Từ những điều trên, chúng ta có thể thấy rằng các máy ảo trên điện thoại di động về cơ bản là mô phỏng phần mềm (bạn muốn thực hiện các hướng dẫn ảo hóa cho các tập lệnh khác nhau như thế nào?), Mặc dù CPU ARM nên hỗ trợ ảo hóa phần cứng, nhưng hiểu biết hiện tại của tôi là Tôi đã không tìm thấy bất kỳ phần mềm tương tự.
## Máy ảo trên các nền tảng khác
Ngoài các máy ảo trên máy tính và điện thoại di động, còn có các máy ảo chạy trên trình duyệt (thực sự là JS tạo ra vũ trụ). Fabrice Bellard, tác giả của qemu, đã từng viết một dự án có tên [JSLinux] (https://bellard.org/jslinux/), có thể chạy các hệ thống như tập lệnh x86, khá mạnh mẽ.

# Khám phá khái niệm ảo hóa
Sau khi nói về việc sử dụng các nền tảng ảo hóa, tôi nghĩ rằng khái niệm và cách thực hiện các máy ảo khá kỳ diệu. Máy ảo là gì? Tôi nghĩ rằng bất cứ thứ gì cung cấp tài nguyên máy tính và lưu trữ một cách hợp lý đều có thể được gọi là máy ảo, bao gồm cả con người, cũng có thể được sử dụng như một nền tảng ảo hóa. Tôi đã nghe một câu chuyện về Turing chơi cờ, anh ấy đã viết một chương trình chơi cờ, nhưng không có máy tính vào thời điểm đó. Thế là anh tự mình bắt chước thao tác trên máy tính và chơi cờ xong với bạn bè. Tôi nghĩ rằng khi anh ta thực hiện chương trình này, anh ta sẽ mở một máy ảo và cấu tạo một cách hợp lý một chiếc máy có thể chạy chương trình của anh ta. Suy cho cùng, Turing là một con người, không phải một cỗ máy, vì vậy tôi nghĩ nó nên được gọi là một máy ảo.
Nhưng trong trường hợp này, miễn là nó không phải là một hệ điều hành ở chế độ thực, tôi nghĩ nó nên được coi là một máy ảo, bởi vì chương trình không thực sự tận hưởng tất cả các tài nguyên tính toán và lưu trữ của máy tính, và tài nguyên của chúng là được phân bổ bởi hệ điều hành, vì vậy hãy nhìn vào hoạt động Không phải hệ thống cũng là một máy ảo? Sau đó, ý nghĩa của loại máy ảo này không phù hợp với ý nghĩa của máy ảo thực tế, tôi nghĩ rằng một số hạn chế nên được thêm vào.
Đặc điểm của hệ điều hành là BIOS nạp mã vào bộ nhớ, và đặc điểm của chương trình là hệ điều hành nạp mã vào bộ nhớ. Nhìn nó theo cách này, tôi nghĩ có thể kết luận rằng những thứ yêu cầu BIOS để tải mã và cung cấp tài nguyên máy tính và lưu trữ nên được gọi là máy ảo ... Nhưng BIOS là gì ... emmmm vì vậy đây là lý do tại sao tôi cảm thấy ảo. máy có một số triết lý.
Ngoài ra, có những chương trình như sandbox và Docker phân phối lại tài nguyên, chúng chỉ hạn chế tài nguyên chứ mã của chương trình không được chúng tải ... Điều này càng hấp dẫn hơn ...

# Các vấn đề chưa được giải quyết
Nói chung chúng ta nghĩ ảo hóa là phân bổ tài nguyên của máy tính một cách hợp lý và sử dụng một máy tính như nhiều máy tính, nhưng tôi nghe nói có một thứ gọi là cụm ảo, có thể giả lập một số lượng lớn máy tính như một máy tính sử dụng. Nhưng lúc này mình nghĩ sẽ có một số vấn đề, ví dụ chương trình chung sẽ có các chức năng như giao tiếp giữa các tiến trình, nhưng nếu đặt hai tiến trình trên hai máy tính khác nhau thì việc giao tiếp của chúng có cần thông qua cáp mạng không. ? Trong những trường hợp bình thường, giao tiếp phải thông qua trí nhớ, phải không? Tốc độ này được ước tính là kém hơn vài nghìn lần và ngay cả các máy chủ có nhiều CPU cũng được kết nối thông qua một bus. Tôi có thể sử dụng kết nối cáp mạng không? Điều này khiến tôi cảm thấy hơi bối rối về cụm ảo hóa và không biết phần mềm ảo hóa hoạt động như thế nào.
